---
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import FormattedDate from '../components/FormattedDate.astro';
import Header from '../components/Header.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate } = Astro.props;
---

<html lang="en">
	<head>
		<BaseHead title={title} description={description} />
	</head>

	<body>
		<Header />
		<main id="main-content" class="max-w-3xl mx-auto w-full px-4">
			<section class="pt-8 pb-12">
				<div class="mb-8">
					<a href="/blog" class="text-sm opacity-70 hover:text-accent hover:opacity-100">
						&larr; Back to posts
					</a>
				</div>
				<article>
					<div class="mb-8">
						<h1 class="text-2xl font-bold sm:text-3xl mb-2">{title}</h1>
						<div class="flex items-center gap-3 opacity-80">
							<div class="flex items-center gap-2">
								<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0">
									<path d="M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z" />
									<path d="M16 3v4" /><path d="M8 3v4" /><path d="M4 11h16" />
								</svg>
								<span class="text-sm italic">
									<FormattedDate date={pubDate} />
								</span>
							</div>
							{updatedDate && (
								<span class="text-sm italic">
									(Updated: <FormattedDate date={updatedDate} />)
								</span>
							)}
						</div>
					</div>
					<hr class="border-border mb-8" aria-hidden="true">
					<div class="prose max-w-none">
						<slot />
					</div>
				</article>
			</section>
		</main>
		<Footer />
	</body>
</html>
